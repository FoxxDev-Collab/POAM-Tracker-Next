import { createProxyHandler } from '@/lib/api-proxy';
import { NextResponse } from 'next/server';

const DEFAULT_STATS = {
  totalFindings: 0,
  criticalFindings: 0,
  highFindings: 0,
  mediumFindings: 0,
  lowFindings: 0,
  openItems: 0,
  complianceScore: 0,
  hasData: false
};

export const GET = createProxyHandler('vulnerability-center/packages/[id]/stats', {
  onError: (_error) => {
    // Return default stats on error instead of failing
    return NextResponse.json(DEFAULT_STATS);
  }
});
