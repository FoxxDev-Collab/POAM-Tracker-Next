import { Module } from '@nestjs/common';
import { BullModule } from '@nestjs/bullmq';
import { VulnerabilityCenterController } from './vulnerability-center.controller';
import { VulnerabilityCenterService } from './vulnerability-center.service';
import { PrismaModule } from '../prisma/prisma.module';
import { CciMapperService } from '../services/cci-mapper.service';
import { StigImportService } from '../services/stig-import.service';
import { ControlComplianceService } from '../services/control-compliance.service';
import { ScoringService } from '../services/scoring.service';

@Module({
  imports: [
    PrismaModule,
    BullModule.registerQueue({ name: 'stig-import' }),
    BullModule.registerQueue({ name: 'cci-mapping' }),
  ],
  controllers: [VulnerabilityCenterController],
  providers: [
    VulnerabilityCenterService,
    CciMapperService,
    StigImportService,
    ControlComplianceService,
    ScoringService,
  ],
  exports: [VulnerabilityCenterService],
})
export class VulnerabilityCenterModule {}